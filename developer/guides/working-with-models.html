
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Working with Models &#8212; MPilot Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/material.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Creating Commands" href="creating-commands.html" />
    <link rel="prev" title="Programming Guides" href="index.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=blue-grey data-md-color-accent=blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#developer/guides/working-with-models" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../index.html" title="MPilot Documentation"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">MPilot Documentation</span>
          <span class="md-header-nav__topic"> Working with Models </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/consbio/mpilot" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    MPilot
  </div>
</a>
          </div>
        </div>
      
      
  
  <script src="../../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../../"versions.json"",
        target_loc = "../../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Developer Resources</a></li>
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">Programming Guides</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../index.html" title="MPilot Documentation" class="md-nav__button md-logo">
      
        <img src="../../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../../index.html"
       title="MPilot Documentation">MPilot Documentation</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/consbio/mpilot" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    MPilot
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Using MPilot</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../user/index.html" class="md-nav__link">User Guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../../user/libraries-ref.html" class="md-nav__link">MPilot Libraries Reference</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Developing with MPilot</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../index.html" class="md-nav__link">Developer Resources</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="index.html" class="md-nav__link">Programming Guides</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../reference/index.html" class="md-nav__link">Python Module Reference</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#developer-guides-working-with-models--page-root" class="md-nav__link">Working with Models</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#loading-a-model-from-source" class="md-nav__link">Loading a model from source</a>
        </li>
        <li class="md-nav__item"><a href="#creating-a-new-model" class="md-nav__link">Creating a new model</a>
        </li>
        <li class="md-nav__item"><a href="#modifying-the-model" class="md-nav__link">Modifying the model</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#adding-commands" class="md-nav__link">Adding commands</a>
        </li>
        <li class="md-nav__item"><a href="#removing-commands" class="md-nav__link">Removing commands</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#running-the-model" class="md-nav__link">Running the model</a>
        </li>
        <li class="md-nav__item"><a href="#creating-an-mpilot-command-file" class="md-nav__link">Creating an MPilot command file</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../../_sources/developer/guides/working-with-models.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="working-with-models">
<h1 id="developer-guides-working-with-models--page-root">Working with Models<a class="headerlink" href="#developer-guides-working-with-models--page-root" title="Permalink to this headline">¶</a></h1>
<p>This guide addresses working programmatically with models. This includes loading models from source, creating new
models, modifying and running models, and writing models back to source. The examples in this guide will mostly focus
on the <a class="reference internal" href="../reference/program.html#mpilot.program.Program" title="mpilot.program.Program"><code class="xref py py-class docutils literal notranslate"><span class="pre">mpilot.program.Program</span></code></a> class, which is the Python representation of the MPilot model.</p>
<section id="loading-a-model-from-source">
<h2 id="loading-a-model-from-source">Loading a model from source<a class="headerlink" href="#loading-a-model-from-source" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../reference/program.html#mpilot.program.Program.from_source" title="mpilot.program.Program.from_source"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_source()</span></code></a> class method will parse a string containing an MPilot model and
return a new <a class="reference internal" href="../reference/program.html#mpilot.program.Program" title="mpilot.program.Program"><code class="xref py py-class docutils literal notranslate"><span class="pre">Program</span></code></a> representing the model. For example, the following will open a model
file, read the contents, and call <code class="docutils literal notranslate"><span class="pre">from_source</span></code>, then run the model:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpilot.program</span> <span class="kn">import</span> <span class="n">Program</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'model.mpt'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">p</span> <span class="o">=</span> <span class="n">Program</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="n">p</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">from_source</span></code> takes two optional arguments. The first is <code class="docutils literal notranslate"><span class="pre">libraries</span></code>, which determines which commands are
available to the model. This defaults to <a class="reference internal" href="../reference/program.html#mpilot.program.EEMS_CSV_LIBRARIES" title="mpilot.program.EEMS_CSV_LIBRARIES"><code class="xref py py-const docutils literal notranslate"><span class="pre">EEMS_CSV_LIBRARIES</span></code></a>, which contains all commands
necessary to run EEMS models based on CSV data. If instead, you want to run an EEMS model which depends on NetCDF data,
you could use <code class="xref py py-const docutils literal notranslate"><span class="pre">EEMS_NETCDF_LIBRAIRES</span></code> instead:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">Program</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">libraries</span><span class="o">=</span><span class="n">EEMS_NETCDF_LIBRARIES</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also use additional, custom libraries; in addition to or instead of the defaults provided by
<code class="docutils literal notranslate"><span class="pre">EEMS_CSV_LIBRARIES</span></code> and <code class="docutils literal notranslate"><span class="pre">EEMS_NETCDF_LIBRARIES</span></code>. Libraries are referenced by their Python module path, and must be
importable. As an example, let’s say you create some custom commands, which can be imported from the
<code class="docutils literal notranslate"><span class="pre">myproject.commands.custom</span></code> module. You could use this in addition to built-in EEMS commands:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">Program</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span>
  <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span>
  <span class="n">libraries</span><span class="o">=</span><span class="n">EEMS_CSV_LIBRARIES</span> <span class="o">+</span> <span class="p">(</span><span class="s1">'myproject.commands.custom'</span><span class="p">,)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The second optional argument, <code class="docutils literal notranslate"><span class="pre">working_dir</span></code>, defines the directly used to resolve any relative paths in the model.
This argument can be omitted or set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, but this will result in an exception if any relative paths are
encountered. The CLI program sets <code class="docutils literal notranslate"><span class="pre">working_dir</span></code> to the directory of the model. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model_path</span> <span class="o">=</span> <span class="s1">'/path/to/model.mpt'</span>
<span class="n">working_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">model_path</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">model_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">p</span> <span class="o">=</span> <span class="n">Program</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">working_dir</span><span class="o">=</span><span class="n">working_dir</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="creating-a-new-model">
<h2 id="creating-a-new-model">Creating a new model<a class="headerlink" href="#creating-a-new-model" title="Permalink to this headline">¶</a></h2>
<p>Creating a new, empty model is as simple as creating a new instance of <a class="reference internal" href="../reference/program.html#mpilot.program.Program" title="mpilot.program.Program"><code class="xref py py-class docutils literal notranslate"><span class="pre">mpilot.program.Program</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpilot.program</span> <span class="kn">import</span> <span class="n">Program</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Program</span><span class="p">()</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Program</span></code> constructor takes the same arguments (<code class="docutils literal notranslate"><span class="pre">libraries</span></code> and <code class="docutils literal notranslate"><span class="pre">working_dir</span></code>) as
<a class="reference internal" href="../reference/program.html#mpilot.program.Program.from_source" title="mpilot.program.Program.from_source"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_source()</span></code></a>, as described in the previous section.</p>
</section>
<section id="modifying-the-model">
<h2 id="modifying-the-model">Modifying the model<a class="headerlink" href="#modifying-the-model" title="Permalink to this headline">¶</a></h2>
<p>Whether you have loaded a model from source, or created a new, blank model, you can modify it by adding or removing
commands.</p>
<section id="adding-commands">
<h3 id="adding-commands">Adding commands<a class="headerlink" href="#adding-commands" title="Permalink to this headline">¶</a></h3>
<p>Add commands with <a class="reference internal" href="../reference/program.html#mpilot.program.Program.add_command" title="mpilot.program.Program.add_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_command()</span></code></a>. At a minimum, you’ll need to provide a command class,
a name for the command result, and arguments to run the command.</p>
<p>You can import the command class directly, or find it by name using
<a class="reference internal" href="../reference/program.html#mpilot.program.Program.find_command_class" title="mpilot.program.Program.find_command_class"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_command_class()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import command class</span>
<span class="kn">from</span> <span class="nn">mpilot.libraries.eems.csv.io</span> <span class="kn">import</span> <span class="n">EEMSRead</span>

<span class="c1"># Look up by name</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Program</span><span class="p">()</span>
<span class="n">EEMSRead</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">find_command_class</span><span class="p">(</span><span class="s1">'EEMSRead'</span><span class="p">)</span>
</pre></div>
</div>
<p>The command arguments are passed to <code class="docutils literal notranslate"><span class="pre">add_command</span></code> as a dictionary.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="n">p</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span>
   <span class="n">EEMSRead</span><span class="p">,</span>
   <span class="s1">'Var_A'</span><span class="p">,</span>
   <span class="p">{</span>
     <span class="s1">'InFileName'</span><span class="p">:</span> <span class="s1">'input.csv'</span><span class="p">,</span>
     <span class="s1">'InFieldName'</span><span class="p">:</span> <span class="s1">'Var_A'</span>
   <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>This is equivalent to the following, in an MPilot command file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Var_A = EEMSRead(
  InFileName = "input.csv",
  InFieldName = "Var_A"
)
</pre></div>
</div>
</section>
<section id="removing-commands">
<h3 id="removing-commands">Removing commands<a class="headerlink" href="#removing-commands" title="Permalink to this headline">¶</a></h3>
<p>Remove commands from the model by deleting them from the <a class="reference internal" href="../reference/program.html#mpilot.program.Program.commands" title="mpilot.program.Program.commands"><code class="xref py py-attr docutils literal notranslate"><span class="pre">commands</span></code></a> property.
<code class="docutils literal notranslate"><span class="pre">commands</span></code> is a dictionary, where the key is the result name.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">del</span> <span class="n">p</span><span class="o">.</span><span class="n">commands</span><span class="p">[</span><span class="s1">'Var_A'</span><span class="p">]</span>
</pre></div>
</div>
<p>This will remove a command assigned to the result <code class="docutils literal notranslate"><span class="pre">Var_A</span></code> (e.g., <code class="docutils literal notranslate"><span class="pre">Var_A</span> <span class="pre">=</span> <span class="pre">EEMSRead(</span> <span class="pre">...</span> <span class="pre">)</span></code>).</p>
</section>
</section>
<section id="running-the-model">
<h2 id="running-the-model">Running the model<a class="headerlink" href="#running-the-model" title="Permalink to this headline">¶</a></h2>
<p>Once the model has been created or loaded from source, and modified as needed, run it with
<a class="reference internal" href="../reference/program.html#mpilot.program.Program.run" title="mpilot.program.Program.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a>. This will build a dependency tree and then execute each command in the model.</p>
</section>
<section id="creating-an-mpilot-command-file">
<h2 id="creating-an-mpilot-command-file">Creating an MPilot command file<a class="headerlink" href="#creating-an-mpilot-command-file" title="Permalink to this headline">¶</a></h2>
<p>Models can be serialized back to the MPilot Command File format using the <a class="reference internal" href="../reference/program.html#mpilot.program.Program.to_string" title="mpilot.program.Program.to_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_string()</span></code></a>
and <a class="reference internal" href="../reference/program.html#mpilot.program.Program.to_file" title="mpilot.program.Program.to_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_file()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">Program</span><span class="p">()</span>
<span class="n">EEMSRead</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">find_command_class</span><span class="p">(</span><span class="s1">'EEMSRead'</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">EEMSRead</span><span class="p">,</span> <span class="s1">'Var_A'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'InFileName'</span><span class="p">:</span> <span class="s1">'input.csv'</span><span class="p">,</span> <span class="s1">'InFieldName'</span><span class="p">:</span> <span class="s1">'Var_A'</span><span class="p">})</span>

<span class="c1"># Returns the model as a string</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">to_string</span><span class="p">()</span>

<span class="c1"># Var_A = EEMSRead(</span>
<span class="c1">#   InFileName = "model.mpt",</span>
<span class="c1">#   InFieldName = "Var_A"</span>
<span class="c1"># )</span>

<span class="c1"># Writes the model to file</span>
<span class="n">p</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="s1">'model.mpt'</span><span class="p">)</span>

<span class="c1"># A file object works, too.</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'model.mpt'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">p</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="index.html" title="Programming Guides"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Programming Guides </span>
              </div>
            </a>
          
          
            <a href="creating-commands.html" title="Creating Commands"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Creating Commands </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2021, Conservation Biology Institute.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.3.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>